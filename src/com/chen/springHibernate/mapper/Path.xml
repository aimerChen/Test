<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC 
    "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.chen.springHibernate.mapper">
	<!-- 创建用户 -->
	<insert id="savePath" parameterType="path" useGeneratedKeys="true"
		keyProperty="id">
		insert into path
		(name,createTime)
		values
		(#{name},now());
	</insert>

	<!-- 批量插入，没有用到 -->
	<insert id="savePaths" parameterType="java.util.List"
		useGeneratedKeys="true" keyProperty="id">
		insert into path
		(name,createTime)
		values
		<foreach collection="list" item="item" index="index"
			separator=",">
			(#{item.name},now())
		</foreach>
	</insert>

	<select id="queryPathByName" parameterType="java.lang.String"
		resultType="Path">
		select * from path c
		<where> c.name=#{pathName}</where> limit 1
	</select>

	<select id="queryPathsByLikeName" parameterType="java.lang.String"
		resultType="Role">
		select * from path c
		<where> c.name like #{pathName}</where>
	</select>

	<select id="findAllPaths" resultType="Role">
		select * from path;
	</select>

	<update id="updatePath" parameterType="Path">
		update path set(name) values(#{name})
		<where> id=#{id}</where>
		;
	</update>

	<delete id="deletePath" parameterType="Path">
		delete from path c
		<where> c.id=#{id}</where>
	</delete>
	<delete id="deletePathById" parameterType="java.lang.Integer">
		DELETE FROM path <where> id=#{id}</where>
	</delete>


	<!-- 批量删除，没有用到 -->
	<delete id="deletePaths" parameterType="java.util.List">
		DELETE FROM path WHERE id IN
		<foreach collection="list" index="index" item="item" open="("
			separator="," close=")">
			#{item}
		</foreach>
	</delete>
</mapper>